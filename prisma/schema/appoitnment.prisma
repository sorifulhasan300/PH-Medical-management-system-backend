model Appointment {
  id String @id @default(uuid(7))
  patientId          String   @unique
  doctorId           String   
  doctorScheduleId   String   @unique 
  videoCallingId     String
  status             AppointmentStatus @default(SCHEDULED)
  paymentStatus      PaymentStatus @default(UNPAID)
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt

  // Relations
  patient        Patient         @relation(fields: [patientId], references: [id])
  doctor         Doctor          @relation(fields: [doctorId], references: [id])
  doctorSchedule DoctorSchedules @relation(fields: [doctorScheduleId], references: [id])
  scheduleId String
  schedule   Schedule @relation(fields: [scheduleId], references: [id], onDelete: Cascade)
  // One appointment can have one payment, review, prescription, and medical report
  payment         Payment?
  review          Review?
  prescription    Prescription?
  medicalReport   MedicalReport?

  @@map("appointments")
}